% Ensure toggles are defined before use
\usepackage{etoolbox}
\newtoggle{isCyber}
\newtoggle{isSE}
\newtoggle{isML}
% Macro to render variant-specific content inline or for a single variant
% Usage: \VariantContent{cyber}{se}{ml}
\newcommand{\VariantContent}[3]{%
	\ifdefstring{\VARIANT}{all}{%
		{\textcolor{blue}{Cyber:} #1}\;|\;{\textcolor{red}{SE:} #2}\;|\;{\textcolor{purple}{ML:} #3}%
	}{%
		\ifstrequal{\VARIANT}{cyber}{#1}{\ifstrequal{\VARIANT}{se}{#2}{#3}}%
	}%
}
% --- in resume-variants.sty ---

% Existing: \VARIANT, toggles, \CyberOnly, \SEOnly, \MLOnly, \VariantText, etc.

% Helper to (re)compute toggles when \VARIANT changes
\newcommand{\SetVariant}[1]{%
	\def\VARIANT{#1}%
	\ifdefstring{\VARIANT}{cyber}{\toggletrue{isCyber}}{\togglefalse{isCyber}}%
	\ifdefstring{\VARIANT}{se}{\toggletrue{isSE}}{\togglefalse{isSE}}%
	\ifdefstring{\VARIANT}{ml}{\toggletrue{isML}}{\togglefalse{isML}}%
}

% Nicely render a section header for a variant
\newcommand{\VariantBanner}[1]{%
	\bigskip\par\noindent{\LARGE\bfseries #1}\par\medskip\hrule\medskip
}

% Render one variant by:
%  - setting toggles
%  - showing a banner
%  - inputting the content body
% Optional arg [resetpages] to restart page numbering at 1 for each variant.
\newcommand{\RenderVariant}[3][]{%
	\ifstrequal{#2}{cyber}{\def\VariantLabel{Cybersecurity Resume}}{}%
	\ifstrequal{#2}{se}{\def\VariantLabel{Software Engineer (C/C++) Resume}}{}%
	\ifstrequal{#2}{ml}{\def\VariantLabel{AI/ML Engineer Resume}}{}%
	\SetVariant{#2}%
	\clearpage
	\begingroup
	\ifstrequal{#1}{resetpages}{\setcounter{page}{1}}{}%
	\VariantBanner{\VariantLabel}%
	\input{resume-body}%
	\endgroup
}
